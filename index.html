<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <!-- بقية الهيد كما هي بدون تغيير -->
    <!-- ... -->
</head>
<body>
    <div class="container">
        <!-- بقية العناصر كما هي -->
        <!-- ... -->

        <!-- القنوات الرياضية -->
        <div class="section-title"> القنوات الرياضية</div>
        <div class="channel-grid" id="sportsGrid">
            <!-- سيتم ملؤها من JSON -->
        </div>

        <!-- قسم جديد للقنوات من JSON -->
        <div class="section-title"> قنوات إضافية</div>
        <div class="channel-grid" id="jsonChannelsGrid">
            <!-- سيتم ملؤها من JSON -->
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // ... بقية الكود كما هو ...

            // دالة لتحميل القنوات من JSON
            async function loadChannelsFromJSON() {
                try {
                    const response = await fetch('https://jzu4.github.io/files/json/rives.json');
                    const channelsData = await response.json();
                    
                    const jsonGrid = document.getElementById('jsonChannelsGrid');
                    const sportsGrid = document.getElementById('sportsGrid');
                    
                    // إضافة القنوات الرياضية
                    if (channelsData.sports) {
                        sportsGrid.innerHTML = '';
                        channelsData.sports.forEach(channel => {
                            sportsGrid.appendChild(createChannelCard(channel));
                        });
                    }
                    
                    // إضافة القنوات الإضافية
                    if (channelsData.others) {
                        jsonGrid.innerHTML = '';
                        channelsData.others.forEach(channel => {
                            jsonGrid.appendChild(createChannelCard(channel));
                        });
                    }
                    
                    // إعادة تعيين أحداث النقر على القنوات الجديدة
                    setupChannelEvents();
                    
                } catch (error) {
                    console.error('حدث خطأ أثناء تحميل القنوات:', error);
                }
            }
            
            // دالة لإنشاء بطاقة قناة
            function createChannelCard(channel) {
                const card = document.createElement('div');
                card.className = 'channel-card';
                card.setAttribute('data-src', channel.streamUrl);
                card.setAttribute('data-id', channel.id);
                
                card.innerHTML = `
                    <i class="fas fa-star favorite-icon"></i>
                    <img src="${channel.logo}" class="channel-logo" alt="${channel.name}">
                    <div class="channel-name">${channel.name}</div>
                `;
                
                return card;
            }
            
            // إعادة تعيين أحداث النقر على القنوات
            function setupChannelEvents() {
                const allChannels = document.querySelectorAll('.channel-card');
                
                allChannels.forEach(channel => {
                    channel.addEventListener('click', function() {
                        setActiveChannel(channel);
                    });
                    
                    const starIcon = channel.querySelector('.favorite-icon');
                    starIcon.addEventListener('click', (e) => {
                        e.stopPropagation();
                        toggleFavorite(channel);
                    });
                    
                    // تظليل القنوات المفضلة
                    const channelId = channel.getAttribute('data-id');
                    if (favorites.includes(channelId)) {
                        channel.classList.add('favorite');
                    }
                });
            }
            
            // تحميل القنوات من JSON عند بدء التشغيل
            loadChannelsFromJSON();
            
            // ... بقية الكود كما هو ...
        });
    </script>
</body>
</html>